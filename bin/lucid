#!/usr/bin/env ruby
app_lib = File.expand_path('../lib', File.dirname(__FILE__))
$LOAD_PATH.unshift(app_lib) unless $LOAD_PATH.include?(app_lib)

require 'lucid/cli/app'

begin
  Lucid::CLI::App.start(ARGV.dup)
rescue SystemExit
  # noop
rescue Exception => e
  STDERR.puts("#{e.message} (#{e.class})")
  STDERR.puts(e.backtrace.join("\n"))
  Kernel.exit(1)
end
